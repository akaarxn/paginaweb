<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aarón Alcaide</title>
<link rel="icon" type="image/png" href="files/thedehron-favicon.png">

<style>
body {
    background-color: white;
    font-family: Arial;
    color: black;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    padding: 20px;
    text-align: center;
    line-height: 1.6;
    overflow: hidden;
}

/* Fondo con imagen */
#bg {
    position: fixed;
    inset: 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0;
    transition: opacity 0.5s ease, transform 20s ease;
    z-index: 0;
}

#bg.active {
    opacity: 0.15;
    transform: scale(1.1);
}

p {
    max-width: 800px;
    font-size: 2em;
    letter-spacing: -2px;
    position: relative;
    z-index: 2;
}

a {
    color: black;
    text-decoration: none;
    font-weight: bold;
    transition: color 0.3s;
    cursor: pointer;
}

body.inverted {
    color: white;
}

body.inverted a {
    color: white;
}

/* Capa oscura para legibilidad */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.4);
    opacity: 0;
    transition: opacity 0.5s;
    z-index: 1;
}

body.inverted::before {
    opacity: 1;
}

@media (max-width: 600px) {
    p {
        font-size: 1.4em;
    }
}
</style>
</head>

<body>

<div id="bg"></div>

<p>
...de Aarón Alcaide puedes leer 
<a href="https://youtu.be/3_Z2BBn6CQU?si=y7GEbDhoocEpcStj" target="_blank">Mi Vida Fuera</a>, 
<a href="https://youtu.be/Gv_l1V1y5Fo?si=oRWdjaPEOkgPzPFQ" target="_blank">Alma Irreal</a>, 
y cuentos o relatos como 
<a href="files/EL PRECIO DEL CONOCIMIENTO. Aarón Alcaide.pdf" target="_blank">el Precio del Conocimiento</a>, 
<a href="files/Relato Nº1. Encuentro Único.pdf" target="_blank">Encuentro Único</a>, 
<a href="files/Relato Nº2. Nunca amaneció.pdf" target="_blank">Nunca Amaneció</a>, 
<a href="files/Esperanza a la Deriva.pdf" target="_blank">Esperanza a la Deriva</a>, 
<a href="files/Eclipse de Oro.pdf" target="_blank">Eclipse de Oro</a>, 
<a href="files/Preludio.pdf" target="_blank">Preludio</a>...
</p>

<script>
const links = document.querySelectorAll('p a');
const body = document.body;
const bg = document.getElementById('bg');
const totalImages = 8;
let lastImage = null;
let active = false;

function randomImage() {
    let img;
    do {
        img = Math.floor(Math.random() * totalImages) + 1;
    } while (img === lastImage);
    lastImage = img;
    return img;
}

function activateBackground() {
    if (!active) {
        const img = randomImage();
        bg.style.backgroundImage = `url('files/img_fondo/${img}.webp')`;
        bg.classList.add('active');
        body.classList.add('inverted');
        active = true;
    }
}

function deactivateBackground() {
    bg.classList.remove('active');
    body.classList.remove('inverted');
    active = false;
}

/* Desktop */
links.forEach(link => {
    link.addEventListener('mouseenter', activateBackground);
});

document.querySelector('p').addEventListener('mouseleave', deactivateBackground);

/* Móvil */
links.forEach(link => {
    link.addEventListener('touchstart', activateBackground, { passive: true });
});

document.body.addEventListener('touchstart', (e) => {
    if (!e.target.closest('a')) {
        deactivateBackground();
    }
});
</script>

</body>
</html>
